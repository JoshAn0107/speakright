<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="8" skipped="0" tests="55" time="32.393" timestamp="2026-01-12T13:03:06.785055" hostname="ubuntu-s-1vcpu-1gb-amd-sgp1-01"><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_valid_credentials_successful_login" time="0.858" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_invalid_email_login_fails" time="0.048" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_incorrect_password_login_fails" time="0.721" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_missing_email_login_fails" time="0.039" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_missing_password_login_fails" time="0.035" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_malformed_email_login_fails" time="0.032" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_case_sensitive_password" time="0.711" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_jwt_token_can_access_protected_endpoints" time="0.761" /><testcase classname="system.test_authentication_system.TestAuthenticationSystem" name="test_registration_returns_token" time="0.467" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_student_can_access_student_endpoints" time="0.410" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_teacher_can_access_teacher_endpoints" time="0.400" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_student_cannot_access_teacher_endpoints" time="0.379" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_teacher_can_access_student_endpoints" time="0.416" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_unauthenticated_cannot_access_protected_endpoints" time="0.033"><failure message="assert 403 == 401&#10; +  where 403 = &lt;Response [403 Forbidden]&gt;.status_code">system/test_authentication_system.py:239: in test_unauthenticated_cannot_access_protected_endpoints
    assert response1.status_code == 401
E   assert 403 == 401
E    +  where 403 = &lt;Response [403 Forbidden]&gt;.status_code</failure></testcase><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_invalid_token_denied_access" time="0.037" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_expired_token_denied_access" time="0.385" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_malformed_authorization_header_denied" time="0.044"><failure message="assert 403 == 401&#10; +  where 403 = &lt;Response [403 Forbidden]&gt;.status_code">system/test_authentication_system.py:273: in test_malformed_authorization_header_denied
    assert response1.status_code == 401
E   assert 403 == 401
E    +  where 403 = &lt;Response [403 Forbidden]&gt;.status_code</failure></testcase><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_role_verification_for_word_assignment" time="0.796" /><testcase classname="system.test_authentication_system.TestRoleBasedAccessControl" name="test_role_persistence_across_requests" time="0.501" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_valid_wav_file_accepted" time="0.450" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_valid_mp3_file_accepted" time="0.429" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_valid_webm_file_accepted" time="0.416" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_invalid_pdf_file_rejected" time="0.385" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_invalid_image_file_rejected" time="0.376" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_invalid_text_file_rejected" time="0.382" /><testcase classname="system.test_student_workflow.TestAudioFileValidation" name="test_content_type_validation" time="0.540" /><testcase classname="system.test_student_workflow.TestProgressStatisticsCalculation" name="test_progress_with_no_recordings" time="0.384" /><testcase classname="system.test_student_workflow.TestProgressStatisticsCalculation" name="test_progress_with_single_recording" time="0.439" /><testcase classname="system.test_student_workflow.TestProgressStatisticsCalculation" name="test_progress_with_multiple_recordings_same_day" time="0.444" /><testcase classname="system.test_student_workflow.TestProgressStatisticsCalculation" name="test_average_score_calculation" time="0.486" /><testcase classname="system.test_student_workflow.TestProgressStatisticsCalculation" name="test_recent_recordings_list" time="0.451" /><testcase classname="system.test_student_workflow.TestProgressStatisticsCalculation" name="test_progress_period_filtering" time="0.455" /><testcase classname="system.test_student_workflow.TestPronunciationScoreValidation" name="test_pronunciation_scores_within_range" time="0.427" /><testcase classname="system.test_student_workflow.TestPronunciationScoreValidation" name="test_multiple_submissions_all_valid_scores" time="0.449" /><testcase classname="system.test_student_workflow.TestAutomaticFeedbackGeneration" name="test_feedback_generated_automatically" time="0.396" /><testcase classname="system.test_student_workflow.TestAutomaticFeedbackGeneration" name="test_grade_assigned_based_on_score" time="0.392" /><testcase classname="system.test_student_workflow.TestAutomaticFeedbackGeneration" name="test_feedback_includes_word_reference" time="0.454" /><testcase classname="system.test_student_workflow.TestAutomaticFeedbackGeneration" name="test_feedback_stored_in_database" time="0.404" /><testcase classname="system.test_student_workflow.TestAutomaticFeedbackGeneration" name="test_multiple_submissions_get_different_feedback" time="0.432" /><testcase classname="system.test_teacher_features.TestTeacherFeedbackOverride" name="test_teacher_provides_new_feedback_text" time="0.779" /><testcase classname="system.test_teacher_features.TestTeacherFeedbackOverride" name="test_teacher_provides_new_grade" time="0.799" /><testcase classname="system.test_teacher_features.TestTeacherFeedbackOverride" name="test_teacher_provides_both_feedback_and_grade" time="0.802" /><testcase classname="system.test_teacher_features.TestTeacherFeedbackOverride" name="test_teacher_flags_for_additional_practice" time="0.960" /><testcase classname="system.test_teacher_features.TestTeacherFeedbackOverride" name="test_automated_feedback_flag_updated" time="0.841" /><testcase classname="system.test_teacher_features.TestSubmissionFiltering" name="test_filter_by_pending_status" time="0.388" /><testcase classname="system.test_teacher_features.TestSubmissionFiltering" name="test_filter_by_reviewed_status" time="0.766" /><testcase classname="system.test_teacher_features.TestSubmissionFiltering" name="test_filter_by_class" time="0.745" /><testcase classname="system.test_teacher_features.TestSubmissionFiltering" name="test_filter_by_status_and_class_combined" time="0.732" /><testcase classname="system.test_teacher_features.TestClassAnalytics" name="test_analytics_total_recordings_count" time="0.863"><failure message="AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?">../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1599: in __getattr__
    return getattr(self.comparator, key)
E   AttributeError: 'Comparator' object has no attribute '_static_cache_key'

The above exception was the direct cause of the following exception:
system/test_teacher_features.py:373: in test_analytics_total_recordings_count
    response = client.get("/api/teacher/analytics", headers=auth_headers_teacher)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:499: in get
    return super().get(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1041: in get
    return self.request(
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:465: in request
    return super().request(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:814: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:901: in send
    response = self._send_handling_auth(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:929: in _send_handling_auth
    response = self._send_handling_redirects(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:966: in _send_handling_redirects
    response = self._send_single_request(request)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1002: in _send_single_request
    response = transport.handle_request(request)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:277: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:217: in _call_func
    retval = await retval
../backend/venv/lib/python3.12/site-packages/fastapi/applications.py:1106: in __call__
    await super().__call__(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:274: in app
    raw_response = await run_endpoint_function(
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:193: in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
../backend/venv/lib/python3.12/site-packages/starlette/concurrency.py:41: in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
../backend/venv/lib/python3.12/site-packages/anyio/to_thread.py:33: in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:877: in run_sync_in_worker_thread
    return await future
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:807: in run
    result = context.run(func, *args)
../backend/app/api/routes/teacher.py:226: in get_analytics
    ).scalar()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2825: in scalar
    ret = self.one()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2798: in one
    return self._iter().one()  # type: ignore
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2847: in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2308: in execute
    return self._execute_internal(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2190: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py:293: in orm_execute_statement
    result = conn.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1416: in execute
    return meth(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:516: in _execute_on_connection
    return connection._execute_clauseelement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1631: in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:684: in _compile_w_cache
    elem_cache_key = self._generate_cache_key()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py:1273: in oneshot
    result = fn(self, *args, **kw)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:398: in _generate_cache_key
    return HasCacheKey._generate_cache_key(self)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:367: in _generate_cache_key
    key = self._gen_cache_key(_anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:267: in _gen_cache_key
    sck = obj._static_cache_key
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1601: in __getattr__
    raise AttributeError(
E   AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?</failure></testcase><testcase classname="system.test_teacher_features.TestClassAnalytics" name="test_analytics_average_score" time="0.769"><failure message="AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?">../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1599: in __getattr__
    return getattr(self.comparator, key)
E   AttributeError: 'Comparator' object has no attribute '_static_cache_key'

The above exception was the direct cause of the following exception:
system/test_teacher_features.py:394: in test_analytics_average_score
    response = client.get("/api/teacher/analytics", headers=auth_headers_teacher)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:499: in get
    return super().get(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1041: in get
    return self.request(
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:465: in request
    return super().request(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:814: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:901: in send
    response = self._send_handling_auth(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:929: in _send_handling_auth
    response = self._send_handling_redirects(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:966: in _send_handling_redirects
    response = self._send_single_request(request)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1002: in _send_single_request
    response = transport.handle_request(request)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:277: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:217: in _call_func
    retval = await retval
../backend/venv/lib/python3.12/site-packages/fastapi/applications.py:1106: in __call__
    await super().__call__(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:274: in app
    raw_response = await run_endpoint_function(
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:193: in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
../backend/venv/lib/python3.12/site-packages/starlette/concurrency.py:41: in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
../backend/venv/lib/python3.12/site-packages/anyio/to_thread.py:33: in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:877: in run_sync_in_worker_thread
    return await future
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:807: in run
    result = context.run(func, *args)
../backend/app/api/routes/teacher.py:226: in get_analytics
    ).scalar()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2825: in scalar
    ret = self.one()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2798: in one
    return self._iter().one()  # type: ignore
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2847: in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2308: in execute
    return self._execute_internal(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2190: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py:293: in orm_execute_statement
    result = conn.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1416: in execute
    return meth(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:516: in _execute_on_connection
    return connection._execute_clauseelement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1631: in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:684: in _compile_w_cache
    elem_cache_key = self._generate_cache_key()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py:1273: in oneshot
    result = fn(self, *args, **kw)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:398: in _generate_cache_key
    return HasCacheKey._generate_cache_key(self)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:367: in _generate_cache_key
    key = self._gen_cache_key(_anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:267: in _gen_cache_key
    sck = obj._static_cache_key
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1601: in __getattr__
    raise AttributeError(
E   AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?</failure></testcase><testcase classname="system.test_teacher_features.TestClassAnalytics" name="test_analytics_most_practiced_words" time="1.009"><failure message="AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?">../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1599: in __getattr__
    return getattr(self.comparator, key)
E   AttributeError: 'Comparator' object has no attribute '_static_cache_key'

The above exception was the direct cause of the following exception:
system/test_teacher_features.py:415: in test_analytics_most_practiced_words
    response = client.get("/api/teacher/analytics", headers=auth_headers_teacher)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:499: in get
    return super().get(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1041: in get
    return self.request(
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:465: in request
    return super().request(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:814: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:901: in send
    response = self._send_handling_auth(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:929: in _send_handling_auth
    response = self._send_handling_redirects(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:966: in _send_handling_redirects
    response = self._send_single_request(request)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1002: in _send_single_request
    response = transport.handle_request(request)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:277: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:217: in _call_func
    retval = await retval
../backend/venv/lib/python3.12/site-packages/fastapi/applications.py:1106: in __call__
    await super().__call__(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:274: in app
    raw_response = await run_endpoint_function(
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:193: in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
../backend/venv/lib/python3.12/site-packages/starlette/concurrency.py:41: in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
../backend/venv/lib/python3.12/site-packages/anyio/to_thread.py:33: in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:877: in run_sync_in_worker_thread
    return await future
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:807: in run
    result = context.run(func, *args)
../backend/app/api/routes/teacher.py:226: in get_analytics
    ).scalar()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2825: in scalar
    ret = self.one()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2798: in one
    return self._iter().one()  # type: ignore
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2847: in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2308: in execute
    return self._execute_internal(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2190: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py:293: in orm_execute_statement
    result = conn.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1416: in execute
    return meth(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:516: in _execute_on_connection
    return connection._execute_clauseelement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1631: in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:684: in _compile_w_cache
    elem_cache_key = self._generate_cache_key()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py:1273: in oneshot
    result = fn(self, *args, **kw)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:398: in _generate_cache_key
    return HasCacheKey._generate_cache_key(self)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:367: in _generate_cache_key
    key = self._gen_cache_key(_anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:267: in _gen_cache_key
    sck = obj._static_cache_key
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1601: in __getattr__
    raise AttributeError(
E   AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?</failure></testcase><testcase classname="system.test_teacher_features.TestClassAnalytics" name="test_analytics_challenging_words" time="0.419"><failure message="AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?">../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1599: in __getattr__
    return getattr(self.comparator, key)
E   AttributeError: 'Comparator' object has no attribute '_static_cache_key'

The above exception was the direct cause of the following exception:
system/test_teacher_features.py:429: in test_analytics_challenging_words
    response = client.get("/api/teacher/analytics", headers=auth_headers_teacher)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:499: in get
    return super().get(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1041: in get
    return self.request(
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:465: in request
    return super().request(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:814: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:901: in send
    response = self._send_handling_auth(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:929: in _send_handling_auth
    response = self._send_handling_redirects(
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:966: in _send_handling_redirects
    response = self._send_single_request(request)
../backend/venv/lib/python3.12/site-packages/httpx/_client.py:1002: in _send_single_request
    response = transport.handle_request(request)
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:277: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../backend/venv/lib/python3.12/site-packages/anyio/from_thread.py:217: in _call_func
    retval = await retval
../backend/venv/lib/python3.12/site-packages/fastapi/applications.py:1106: in __call__
    await super().__call__(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../backend/venv/lib/python3.12/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:274: in app
    raw_response = await run_endpoint_function(
../backend/venv/lib/python3.12/site-packages/fastapi/routing.py:193: in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
../backend/venv/lib/python3.12/site-packages/starlette/concurrency.py:41: in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
../backend/venv/lib/python3.12/site-packages/anyio/to_thread.py:33: in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:877: in run_sync_in_worker_thread
    return await future
../backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:807: in run
    result = context.run(func, *args)
../backend/app/api/routes/teacher.py:226: in get_analytics
    ).scalar()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2825: in scalar
    ret = self.one()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2798: in one
    return self._iter().one()  # type: ignore
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py:2847: in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2308: in execute
    return self._execute_internal(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py:2190: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py:293: in orm_execute_statement
    result = conn.execute(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1416: in execute
    return meth(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:516: in _execute_on_connection
    return connection._execute_clauseelement(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py:1631: in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:684: in _compile_w_cache
    elem_cache_key = self._generate_cache_key()
../backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py:1273: in oneshot
    result = fn(self, *args, **kw)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:398: in _generate_cache_key
    return HasCacheKey._generate_cache_key(self)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:367: in _generate_cache_key
    key = self._gen_cache_key(_anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:280: in _gen_cache_key
    obj._gen_cache_key(anon_map, bindparams),
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:321: in _gen_cache_key
    elem._gen_cache_key(anon_map, bindparams)
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/cache_key.py:267: in _gen_cache_key
    sck = obj._static_cache_key
../backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py:1601: in __getattr__
    raise AttributeError(
E   AttributeError: Neither 'Function' object nor 'Comparator' object has an attribute '_static_cache_key'. Did you mean: '_is_has_cache_key'?</failure></testcase><testcase classname="system.test_teacher_features.TestDailyChallengeWord" name="test_daily_challenge_returns_word" time="0.042"><failure message="assert 500 == 200&#10; +  where 500 = &lt;Response [500 Internal Server Error]&gt;.status_code">system/test_teacher_features.py:454: in test_daily_challenge_returns_word
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = &lt;Response [500 Internal Server Error]&gt;.status_code</failure></testcase><testcase classname="system.test_teacher_features.TestDailyChallengeWord" name="test_daily_challenge_with_database_words" time="0.117" /><testcase classname="system.test_teacher_features.TestDailyChallengeWord" name="test_daily_challenge_structure" time="0.076"><failure message="assert 500 == 200&#10; +  where 500 = &lt;Response [500 Internal Server Error]&gt;.status_code">system/test_teacher_features.py:474: in test_daily_challenge_structure
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = &lt;Response [500 Internal Server Error]&gt;.status_code</failure></testcase></testsuite></testsuites>